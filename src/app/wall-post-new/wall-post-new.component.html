<section class="ftco-section">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6 text-center mb-5">
        <h2 class="heading-section">Nouveau Post</h2>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="col-md-12 col-lg-10 centerCard">
        <div class="wrap d-md-flex">
          <div
            class="img"
            style="background-image: url(../../assets/images/amis.jpg)"
          ></div>

          <form
            [formGroup]="wallpostForm"
            (ngSubmit)="(onSubmitForm)"
            class="row g-3"
          >
            <div class="col-md-12 postItem">
              <label for="title" class="form-label">Titre</label>
              <input
                type="text"
                id="title"
                formControlName="title"
                class="form-control"
              />
            </div>
            <div class="col-md-12 postItem">
              <label for="description" class="form-label">Description</label>
              <textarea
                type="text"
                id="description"
                formControlName="description"
                class="form-control"
                rows="4"
              ></textarea>
            </div>
            <div class="col-md-12 postItem">
              <label for="imageUrl" class="form-label"
                >Coller l'URL de l'image</label
              >
              <input
                type="text"
                id="imageUrl"
                formControlName="imageUrl"
                class="form-control"
              />
            </div>
            <div class="col-md-12 postItem">
              <label for="location" class="form-label">Lieu</label>
              <input
                type="text"
                id="location"
                formControlName="location"
                class="form-control"
              />
            </div>
            <div class="action-button">
              <button
                class="btn btn-primary px-5"
                type="submit"
                (click)="onSubmitForm()"
                [disabled]="wallpostForm.invalid"
              >
                Enregistrer
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="titlePreview" *ngIf="wallpostPreview$ | async">
    <h2>Preview de mon post</h2>
  </div>
  <div class="wall-post-card" *ngIf="wallpostPreview$ | async as wallPost">
    <h2>{{ wallPost.title | titlecase }}</h2>
    <p>Publié {{ wallPost.createdDate | date: "le d MMMM YYYY à HH:mm" }}</p>
    <img [src]="wallPost.imageUrl" [alt]="wallPost.title" />
    <p>{{ wallPost.description }}</p>
    <p *ngIf="wallPost.location">Lieu : {{ wallPost.location }}</p>
    <p></p>
  </div>
</section>
